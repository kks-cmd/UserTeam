{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\4.5\\cssui-project\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\4.5\\cssui-project\\src\\views\\index.js","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\4.5\\cssui-project\\src\\views\\index.js","mtime":1604562951491},{"path":"C:\\Users\\Administrator\\Desktop\\4.5\\cssui-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\4.5\\cssui-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["var sidebarExpand = function sidebarExpand() {\n  $(\"#sidebarIndex\").removeClass(\"collapse48 collapse75\");\n  $(\"#sidebarIndex\").find(\"span\").css(\"display\", \"\");\n  $(\".wrapper-left\").animate({\n    width: \"210px\"\n  }, 100);\n  $(\".wrapper-body-2\").animate({\n    margin: \"0 0 0 210px\"\n  }, 100);\n};\n\nvar sidebarCollapse = function sidebarCollapse() {\n  var collapseWidth = 75;\n  $(\"#sidebarIndex\").addClass(\"collapse\" + collapseWidth);\n  $(\".wrapper-left\").css(\"width\", collapseWidth + \"px\");\n  $(\".wrapper-body-2\").css(\"margin\", \"0 0 0 \" + collapseWidth + \"px\");\n};\n\nvar checkFlag = function checkFlag(that, item) {\n  if (that.sidebar.beforeEl && item.id == that.sidebar.beforeEl.id) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nvar hide = function hide(that) {\n  $(\"#sidebarFloatMenu\").hide();\n  unbindEvent();\n  that.sidebar.beforeEl = {};\n};\n\nvar unbindEvent = function unbindEvent() {\n  $(\"#sidebarFloatMenu\").unbind();\n};\n\nexport var mouseleave = function mouseleave(that) {\n  hide(that);\n};\nexport var clickDropdownMenu = function clickDropdownMenu(that, showTab) {\n  var item = {\n    id: showTab.id,\n    path: showTab.component,\n    name: showTab.title\n  };\n  that.openTab(item);\n};\nexport var changeTheme = function changeTheme(that) {\n  that.$dialog.show({\n    id: 'DirThemeDialog',\n    title: '主题',\n    isHeader: true\n  }, {\n    name: 'DirThemeDialog',\n    data: {}\n  });\n};\nexport var initNewTab = function initNewTab(vue) {\n  //数据加载完成后的操作\n  var newTab = JSON.parse(sessionStorage.getItem('newTab'));\n\n  if (newTab) {\n    vue.$csstabs.find(\"main_tab\").open(newTab); // sessionStorage.removeItem('newTab')\n  }\n};\nexport var initLayout = function initLayout(that) {\n  var g_bodyHeight = $(window).height(); //window高度\n\n  $(\".wrapper .wrapper-content\").height(g_bodyHeight); //设置wrapper-content高度\n\n  that.g_tabHeight = $(window).height() - $(\".wrapper-header\").outerHeight() - 39;\n  that.$autoscroll.init($(\".wrapper-left\")[0], that.g_tabHeight); //根据tab页面高度判断是否需要滚动条\n};\nexport var createInit = function createInit(that) {\n  $(window).bind(\"resize\", function () {\n    //window绑定resize事件\n    try {\n      if (that.resizeTimer) clearTimeout(that.resizeTimer);\n      that.resizeTimer = setTimeout(function () {\n        that.initLayout(); //初始化页面\n\n        that.$csstabs.find(\"main_tab\").initComponent(that.g_tabHeight); //浏览器窗口大小发生改变时根据tab页面高度重新加载tab页面\n      }, 50);\n    } catch (error) {\n      console.log(error);\n    }\n  });\n};\nexport var menuMove = function menuMove(that, item) {\n  var $sub = $(\"#sidebarFloatMenu\");\n\n  if (checkFlag(that, item)) {\n    unbindEvent();\n    that.floatMenus = item.menus;\n    var floatMenus = that.floatMenus;\n    that.$refs.floatMenu.$nextTick(function () {\n      $sub.css(\"display\", \"block\");\n      that.sidebar.beforeEl = item;\n      var top = $(event.target).offset().top - 1;\n      var offset = isIE ? 3 : 15;\n      if (top + $sub.height() + offset > $(window).height()) top = $(window).height() - $sub.height() - offset;\n      $sub.css({\n        left: 75 + \"px\",\n        top: top + \"px\"\n      });\n      $sub.show();\n    });\n    $(document).one(\"click\", function () {\n      hide(that);\n    });\n    $sub.on(\"mouseleave\", function (e) {\n      e.preventDefault ? e.preventDefault() : e.returnValue = false;\n      hide(that);\n    });\n  }\n};\nexport var openTab = function openTab(that, item) {\n  var curclose = \"close\" in item ? item.close : true;\n  var tab = {\n    id: item.id,\n    active: \"active\",\n    close: curclose,\n    component: item.path,\n    title: item.name,\n    timer: new Date().getTime()\n  };\n  that.$csstabs.find(\"main_tab\").open(tab); //打开tab页面\n\n  event.preventDefault();\n};\nexport var initMenu = function initMenu(that, menus) {\n  for (var i in menus) {\n    //遍历菜单对象\n    menus[i].active = \"\"; //\n\n    if (menus[i].menus && menus[i].menus.length > 0) {\n      //如果存在子菜单，初始化子菜单\n      that.initMenu(menus[i].menus);\n    }\n  } //当前选中菜单为第一个\n\n\n  that.$menuselect = that.menus[0];\n  that.$menuselect.close = false;\n  that.openTab(that.$menuselect);\n};\nexport var loadMenu = function loadMenu(that, userId, sysId) {\n  that.$http.menu.loadNavTree({\n    'userId': userId,\n    'sysId': sysId\n  }).then(function (res) {\n    for (var i in res) {\n      that.menus.push(res[i]); //属性\n    }\n\n    that.initMenu(res); //初始化menu\n\n    initNewTab(that);\n  }).catch(function (res) {\n    console.log(res);\n  });\n};\nexport var changeExpand = function changeExpand(that) {\n  that.$refs.cssSidebarMenu.init();\n  if (that.isExpand) sidebarExpand(); //menu展开时设置展开样式\n  else sidebarCollapse(); //menu收缩时设置收缩样式\n\n  for (var i in that.tabs) {\n    //遍历tab\n    if (that.tabs[i].active == 'active') {\n      //如果tab状态为active时，设置点击状态\n      that.$refs.main_tab.clickTab(that.tabs[i]);\n      break;\n    }\n  }\n};\nexport var findPermissions = function findPermissions(that, userId, sysId) {\n  that.$http // vue实例挂载的$http，请求api对象\n  .permission //api属性对象，src/http/api.js中注册的业务请求对象名称\n  .loadPermissions({\n    //api属性对象方法，src/http/moudules中permissions业务请求文件中的api方法名称\n    'userId': userId,\n    //用户uuid\n    'sysId': sysId\n  }).then(function (res) {\n    that.permission.setPermission(res); //权限的存储\n  }).catch(function (error) {\n    console.log(error);\n  });\n};\nexport var logout = function logout(that) {\n  that.$http.login.logout().then(function (res) {\n    sessionStorage.removeItem('userId');\n    sessionStorage.removeItem('userName');\n\n    if (res) {\n      location.href = res;\n    } else {\n      that.$router.push(\"/login\").catch(function (data) {});\n    }\n\n    that.deleteCookie('cssSessionId');\n  }).catch(function (res) {});\n};",{"version":3,"sources":["C:/Users/Administrator/Desktop/4.5/cssui-project/src/views/index.js"],"names":["sidebarExpand","$","removeClass","find","css","animate","width","margin","sidebarCollapse","collapseWidth","addClass","checkFlag","that","item","sidebar","beforeEl","id","hide","unbindEvent","unbind","mouseleave","clickDropdownMenu","showTab","path","component","name","title","openTab","changeTheme","$dialog","show","isHeader","data","initNewTab","vue","newTab","JSON","parse","sessionStorage","getItem","$csstabs","open","initLayout","g_bodyHeight","window","height","g_tabHeight","outerHeight","$autoscroll","init","createInit","bind","resizeTimer","clearTimeout","setTimeout","initComponent","error","console","log","menuMove","$sub","floatMenus","menus","$refs","floatMenu","$nextTick","top","event","target","offset","isIE","left","document","one","on","e","preventDefault","returnValue","curclose","close","tab","active","timer","Date","getTime","initMenu","i","length","$menuselect","loadMenu","userId","sysId","$http","menu","loadNavTree","then","res","push","catch","changeExpand","cssSidebarMenu","isExpand","tabs","main_tab","clickTab","findPermissions","permission","loadPermissions","setPermission","logout","login","removeItem","location","href","$router","deleteCookie"],"mappings":"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","sourcesContent":["var sidebarExpand = function(){\r\n    $(\"#sidebarIndex\").removeClass(\"collapse48 collapse75\");\r\n      $(\"#sidebarIndex\").find(\"span\").css(\"display\", \"\");\r\n      $(\".wrapper-left\").animate({width: \"210px\"},100);\r\n      $(\".wrapper-body-2\").animate({margin: \"0 0 0 210px\"},100);\r\n}\r\nvar sidebarCollapse = function(){\r\n    let collapseWidth = 75;\r\n    $(\"#sidebarIndex\").addClass(\"collapse\" + collapseWidth);\r\n    $(\".wrapper-left\").css(\"width\", collapseWidth + \"px\");\r\n    $(\".wrapper-body-2\").css(\"margin\", \"0 0 0 \" + collapseWidth + \"px\");\r\n}\r\nvar checkFlag = function(that,item) {\r\n    if (that.sidebar.beforeEl && item.id == that.sidebar.beforeEl.id) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n}\r\nvar hide = function(that) {\r\n    $(\"#sidebarFloatMenu\").hide();\r\n    unbindEvent();\r\n    that.sidebar.beforeEl = {};\r\n}\r\nvar unbindEvent = function() {\r\n    $(\"#sidebarFloatMenu\").unbind();\r\n}\r\nexport const mouseleave = function(that){\r\n    hide(that);\r\n}\r\nexport const clickDropdownMenu = function(that,showTab){\r\n    var item = {\r\n        id:showTab.id,\r\n        path:showTab.component,\r\n        name:showTab.title\r\n    }\r\n    that.openTab(item);            \r\n}\r\nexport const changeTheme = function(that){\r\n    that.$dialog.show(\r\n        {\r\n            id:'DirThemeDialog',\r\n            title : '主题',\r\n            isHeader:true\r\n        },{name:'DirThemeDialog',data :{}\r\n        }\r\n    );\r\n}\r\nexport const initNewTab=function(vue){\r\n    //数据加载完成后的操作\r\n    var newTab=JSON.parse(sessionStorage.getItem('newTab'));\r\n    if(newTab){\r\n        vue.$csstabs.find(\"main_tab\").open(newTab);\r\n        // sessionStorage.removeItem('newTab')\r\n    }\r\n}\r\nexport const initLayout = function(that){\r\n    let g_bodyHeight = $(window).height(); //window高度\r\n    $(\".wrapper .wrapper-content\").height(g_bodyHeight); //设置wrapper-content高度\r\n    that.g_tabHeight = $(window).height() - $(\".wrapper-header\").outerHeight() - 39;\r\n    that.$autoscroll.init($(\".wrapper-left\")[0], that.g_tabHeight); //根据tab页面高度判断是否需要滚动条\r\n}\r\nexport const createInit = function(that){\r\n\r\n    $(window).bind(\"resize\", ()=> { //window绑定resize事件\r\n        try {\r\n          if (that.resizeTimer) clearTimeout(that.resizeTimer); \r\n          that.resizeTimer = setTimeout(function() {\r\n            that.initLayout();  //初始化页面\r\n            that.$csstabs.find(\"main_tab\").initComponent(that.g_tabHeight); //浏览器窗口大小发生改变时根据tab页面高度重新加载tab页面\r\n          }, 50);\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      });\r\n}\r\nexport const menuMove = function(that,item){\r\n      var $sub = $(\"#sidebarFloatMenu\");\r\n      if (checkFlag(that,item)) {\r\n        unbindEvent();\r\n        that.floatMenus = item.menus;\r\n        var floatMenus = that.floatMenus;\r\n        that.$refs.floatMenu.$nextTick(() => {\r\n          $sub.css(\"display\", \"block\");\r\n          that.sidebar.beforeEl = item;\r\n          var top = $(event.target).offset().top - 1;\r\n          var offset = isIE ? 3 : 15;\r\n          if (top + $sub.height() + offset > $(window).height())\r\n            top = $(window).height() - $sub.height() - offset;\r\n          $sub.css({\r\n            left: 75 + \"px\",\r\n            top: top + \"px\"\r\n          });\r\n          $sub.show();\r\n        });\r\n        $(document).one(\"click\", function() {\r\n          hide(that);\r\n        });\r\n        $sub.on(\"mouseleave\", function(e) {\r\n          e.preventDefault ? e.preventDefault() : (e.returnValue = false);\r\n          hide(that);\r\n        });\r\n      }\r\n}\r\nexport const openTab = function(that,item){\r\n    var curclose = \"close\" in item ? item.close :true;\r\n    var tab = {\r\n        id: item.id,\r\n        active: \"active\",\r\n        close: curclose,\r\n        component: item.path,\r\n        title: item.name,\r\n        timer: new Date().getTime()\r\n    };\r\n    that.$csstabs.find(\"main_tab\").open(tab); //打开tab页面\r\n    event.preventDefault();\r\n}\r\nexport const initMenu = function(that,menus){\r\n    for (let i in menus) { //遍历菜单对象\r\n        menus[i].active = \"\"; //\r\n        if (menus[i].menus && menus[i].menus.length > 0) { //如果存在子菜单，初始化子菜单\r\n            that.initMenu(menus[i].menus);\r\n        }\r\n    }\r\n    //当前选中菜单为第一个\r\n    that.$menuselect = that.menus[0];\r\n    that.$menuselect.close = false;\r\n    that.openTab(that.$menuselect); \r\n}\r\nexport const loadMenu = function(that,userId,sysId){\r\n    that.$http.menu.loadNavTree({\r\n        'userId': userId,\r\n        'sysId': sysId\r\n    })\r\n    .then(res => {\r\n        for (let i in res) {\r\n            that.menus.push(res[i]); //属性\r\n        }\r\n        that.initMenu(res); //初始化menu\r\n\t\tinitNewTab(that);\r\n    }).catch(res=>{\r\n        console.log(res);\r\n    })\r\n}\r\n\r\nexport const changeExpand = function(that){\r\n    that.$refs.cssSidebarMenu.init();\r\n    if (that.isExpand) \r\n        sidebarExpand(); //menu展开时设置展开样式\r\n    else sidebarCollapse(); //menu收缩时设置收缩样式\r\n    for(let i in that.tabs){ //遍历tab\r\n        if(that.tabs[i].active == 'active'){ //如果tab状态为active时，设置点击状态\r\n            that.$refs.main_tab.clickTab(that.tabs[i]);\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\nexport const findPermissions = function(that,userId,sysId){\r\n    that.$http // vue实例挂载的$http，请求api对象\r\n    .permission//api属性对象，src/http/api.js中注册的业务请求对象名称\r\n    .loadPermissions({ //api属性对象方法，src/http/moudules中permissions业务请求文件中的api方法名称\r\n        'userId': userId, //用户uuid\r\n        'sysId':sysId\r\n    })\r\n    .then(res => {\r\n        that.permission.setPermission(res); //权限的存储\r\n    }).catch(error => {\r\n        console.log(error);\r\n    });\r\n}\r\nexport const logout = function(that) {\r\n    that.$http.login\r\n    .logout()\r\n    .then(res => {\r\n          sessionStorage.removeItem('userId');\r\n          sessionStorage.removeItem('userName');\r\n          if(res){\r\n              location.href=res;\r\n          }else{\r\n              that.$router.push(\"/login\").catch(data => {  }); \r\n          }\r\n          that.deleteCookie('cssSessionId');\r\n    })\r\n    .catch(function(res) {\r\n    });\r\n}\r\n"]}]}