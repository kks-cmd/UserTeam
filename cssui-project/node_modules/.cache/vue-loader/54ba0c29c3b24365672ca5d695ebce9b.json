{"remainingRequest":"D:\\4.5框架\\cssui-project\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\4.5框架\\cssui-project\\src\\views\\CssThemeDemo\\DirTheme.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\4.5框架\\cssui-project\\src\\views\\CssThemeDemo\\DirTheme.vue","mtime":1604555916020},{"path":"D:\\4.5框架\\cssui-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\4.5框架\\cssui-project\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\4.5框架\\cssui-project\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\4.5框架\\cssui-project\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nexport default {\r\n  props:{\r\n      isOpen:Boolean,\r\n      isBorder:Boolean\r\n  },\r\n  data(){\r\n    return {\r\n      curTheme:\"default\",\r\n      openBtn:this.isOpen,\r\n      openBorder:false,\r\n      themes:{\r\n        default:{id:'default',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/default.jpg',title:'海洋蓝',active:true},\r\n        red:{id:'red',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/red.jpg',title:'中国红',active:false},\r\n        orange:{id:'orange',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/orange.jpg',title:'秋意橙',active:false},\r\n        qing:{id:'qing',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/qing.jpg',title:'清新绿',active:false},\r\n        dark:{id:'dark',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/black.jpg',title:'炫酷黑',active:false},\r\n        gray:{id:'gray',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/gray.jpg',title:'商务灰',active:false},\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    initActive(){\r\n        var i = 0;\r\n        for(var t in this.themes){\r\n            if(this.themes[t].id == window.curtheme){\r\n                this.themes[t].active = true;\r\n                this.curTheme = this.themes[t].id;\r\n                i++;\r\n            }else{\r\n                this.themes[t].active = false;\r\n            }\r\n        }\r\n        if(i<1){\r\n            this.themes.default.active = true;\r\n        }\r\n    },\r\n    active(item){\r\n      if(item&&item.active){\r\n        return \"active\"\r\n      }else{\r\n        return \"\";\r\n      }\r\n    },\r\n    preview(item){\r\n      this.themes[this.curTheme]['active']=false;\r\n      this.curTheme=item.id;\r\n      item['active']=true;\r\n      this.changeCss(item.data);\r\n      window.curtheme = item.id;\r\n    },\r\n    //火狐样式切换兼容\r\n    firefoxCss(ondesc){\r\n        var old=$(\"[theme]\");\r\n        var link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n        link.type = 'text/css';\r\n        link.setAttribute(\"theme\",\"main\");\r\n        var links = $(link);\r\n        if(!this.openBorder){ //没有开启边框\r\n            links[0].href = ondesc +this.curTheme+'2/main.css';\r\n        }else{\r\n            links[0].href = ondesc +this.curTheme+'/main.css';\r\n        }\r\n        document.getElementsByTagName('head')[0].insertBefore(link,old[0]);\r\n        setTimeout(() => {\r\n            old.remove();\r\n        }, 200);\r\n    },\r\n    changeCss(ondesc) {\r\n        var links = $(\"[theme]\");\r\n        if(isFF){\r\n            this.firefoxCss(ondesc);\r\n        }else{\r\n         if(!this.openBorder){ //没有开启边框\r\n                links[0].href = ondesc +this.curTheme+'2/main.css';\r\n            }else{\r\n                links[0].href = ondesc +this.curTheme+'/main.css';\r\n            }\r\n        }\r\n    },\r\n    changeBorder(val){\r\n        if(this.openBorder){ //开启边框\r\n            window.openBorder = true;\r\n        }else{\r\n            window.openBorder = false;\r\n        }\r\n         this.changeCss('static/cssui/newThemes/');\r\n    },\r\n    changeTheme(item){\r\n      this.$dialog.closeTop();\r\n    },\r\n    colse(){\r\n      this.$dialog.closeTop();\r\n    },\r\n    resizeHandle(){\r\n        var h = $(window).height()-70;\r\n        $(this.$el).find('div.theme-breviary-cont').css('height',h+'px');\r\n    }\r\n  },\r\n  mounted(){\r\n      if('openBorder' in window){\r\n          this.openBorder = window.openBorder;\r\n      }else{\r\n          this.openBorder = this.isBorder;\r\n      }\r\n      this.initActive();\r\n      window.openMenu = this.isOpen;\r\n     \r\n      window.addEventListener('resize',this.resizeHandle);\r\n      var that = this;\r\n      this.$nextTick(()=>{\r\n          that.resizeHandle();\r\n      })\r\n  },\r\n  beforeDestroy(){\r\n    window.removeEventListener('resize',this.resizeHandle);\r\n  },\r\n  watch:{\r\n      openBtn:{\r\n          handler(){\r\n              window.openMenu = this.openBtn;\r\n              if(this.openBtn){ //开启头部菜单\r\n                    this.$attrs.srcComponent.$router.push({\r\n                        name:\"firstPage2\",\r\n                        params:{settingOpen:true}\r\n                    }); // 登录成功，跳转到主页\r\n              }else{ //关闭头部菜单\r\n                    this.$attrs.srcComponent.$router.push({\r\n                        name:'firstPage',\r\n                        params:{settingOpen:true}\r\n                    }) // 登录成功，跳转到主页\r\n              }\r\n          }\r\n      },\r\n      openBorder:{\r\n          handler(){\r\n              if(this.openBorder){ //开启边框\r\n                    window.openBorder = true;\r\n                    // var links = $(\"[theme]\");\r\n                    // var href = links[0].href;\r\n                    // var arr = href.split('newThemes/');\r\n                    // var linkFirst = arr[0]+'newThemes/';\r\n                    // var linkEnd = arr[1].split('/main.css')[0];\r\n                    // var end = linkEnd.split('2')[0];\r\n                    // var endLink = 'static/cssui/newThemes/' + end + '/main.css';\r\n                    // if(linkEnd.indexOf('2')>=0)\r\n                    //     links[0].href = endLink;\r\n              }else{ \r\n                   window.openBorder = false;\r\n                //    var links = $(\"[theme]\");\r\n                //    var href = links[0].href;\r\n                //    var arr = href.split('newThemes/');\r\n                //    var linkFirst = arr[0]+'newThemes/';\r\n                //    var linkEnd = arr[1].split('/main.css')[0];\r\n                //    linkEnd = linkEnd.split('2')[0];\r\n                //    links[0].href = 'static/cssui/newThemes/' + linkEnd + '2/main.css';\r\n                    \r\n            }\r\n          }\r\n      }\r\n  }\r\n}\r\n",{"version":3,"sources":["DirTheme.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"DirTheme.vue","sourceRoot":"src/views/CssThemeDemo","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"theme-title\">\r\n        <h3>主题设置</h3>\r\n    </div>\r\n    <div class=\"theme-breviary-cont\">\r\n        <div class=\"breviary\" style=\"height: 425px; width: 420px;\">\r\n        <ul class=\"con\">\r\n            <li v-for=\"item in themes\">\r\n                <a href=\"javascript:void(0);\">\r\n                    <img :src=\"item.src\" @click=\"preview(item)\" :alt=\"item.title\" :class=\"active(item)\">\r\n                    <div class=\"txtbg\"></div> <span class=\"txt\">{{item.title}}</span></a></li>\r\n        </ul>\r\n    </div>\r\n    <div class=\"open-head-menu\">\r\n        <ul>\r\n            <li>\r\n                <p>开启顶栏导航：</p>\r\n                <css-switch v-model=\"openBtn\"  active-color=\"#13ce66\" inactive-color=\"#d2d2d2\"></css-switch>\r\n            </li>\r\n            <li>\r\n                <p>开启边框：</p>\r\n                <css-switch v-model=\"openBorder\" @change=\"changeBorder\" active-color=\"#13ce66\" inactive-color=\"#d2d2d2\"></css-switch>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    </div>\r\n</div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props:{\r\n      isOpen:Boolean,\r\n      isBorder:Boolean\r\n  },\r\n  data(){\r\n    return {\r\n      curTheme:\"default\",\r\n      openBtn:this.isOpen,\r\n      openBorder:false,\r\n      themes:{\r\n        default:{id:'default',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/default.jpg',title:'海洋蓝',active:true},\r\n        red:{id:'red',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/red.jpg',title:'中国红',active:false},\r\n        orange:{id:'orange',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/orange.jpg',title:'秋意橙',active:false},\r\n        qing:{id:'qing',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/qing.jpg',title:'清新绿',active:false},\r\n        dark:{id:'dark',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/black.jpg',title:'炫酷黑',active:false},\r\n        gray:{id:'gray',data:'static/cssui/newThemes/',src:'static/cssui/newThemes/images/gray.jpg',title:'商务灰',active:false},\r\n      }\r\n    }\r\n  },\r\n  methods:{\r\n    initActive(){\r\n        var i = 0;\r\n        for(var t in this.themes){\r\n            if(this.themes[t].id == window.curtheme){\r\n                this.themes[t].active = true;\r\n                this.curTheme = this.themes[t].id;\r\n                i++;\r\n            }else{\r\n                this.themes[t].active = false;\r\n            }\r\n        }\r\n        if(i<1){\r\n            this.themes.default.active = true;\r\n        }\r\n    },\r\n    active(item){\r\n      if(item&&item.active){\r\n        return \"active\"\r\n      }else{\r\n        return \"\";\r\n      }\r\n    },\r\n    preview(item){\r\n      this.themes[this.curTheme]['active']=false;\r\n      this.curTheme=item.id;\r\n      item['active']=true;\r\n      this.changeCss(item.data);\r\n      window.curtheme = item.id;\r\n    },\r\n    //火狐样式切换兼容\r\n    firefoxCss(ondesc){\r\n        var old=$(\"[theme]\");\r\n        var link = document.createElement('link');\r\n\t\tlink.rel = 'stylesheet';\r\n        link.type = 'text/css';\r\n        link.setAttribute(\"theme\",\"main\");\r\n        var links = $(link);\r\n        if(!this.openBorder){ //没有开启边框\r\n            links[0].href = ondesc +this.curTheme+'2/main.css';\r\n        }else{\r\n            links[0].href = ondesc +this.curTheme+'/main.css';\r\n        }\r\n        document.getElementsByTagName('head')[0].insertBefore(link,old[0]);\r\n        setTimeout(() => {\r\n            old.remove();\r\n        }, 200);\r\n    },\r\n    changeCss(ondesc) {\r\n        var links = $(\"[theme]\");\r\n        if(isFF){\r\n            this.firefoxCss(ondesc);\r\n        }else{\r\n         if(!this.openBorder){ //没有开启边框\r\n                links[0].href = ondesc +this.curTheme+'2/main.css';\r\n            }else{\r\n                links[0].href = ondesc +this.curTheme+'/main.css';\r\n            }\r\n        }\r\n    },\r\n    changeBorder(val){\r\n        if(this.openBorder){ //开启边框\r\n            window.openBorder = true;\r\n        }else{\r\n            window.openBorder = false;\r\n        }\r\n         this.changeCss('static/cssui/newThemes/');\r\n    },\r\n    changeTheme(item){\r\n      this.$dialog.closeTop();\r\n    },\r\n    colse(){\r\n      this.$dialog.closeTop();\r\n    },\r\n    resizeHandle(){\r\n        var h = $(window).height()-70;\r\n        $(this.$el).find('div.theme-breviary-cont').css('height',h+'px');\r\n    }\r\n  },\r\n  mounted(){\r\n      if('openBorder' in window){\r\n          this.openBorder = window.openBorder;\r\n      }else{\r\n          this.openBorder = this.isBorder;\r\n      }\r\n      this.initActive();\r\n      window.openMenu = this.isOpen;\r\n     \r\n      window.addEventListener('resize',this.resizeHandle);\r\n      var that = this;\r\n      this.$nextTick(()=>{\r\n          that.resizeHandle();\r\n      })\r\n  },\r\n  beforeDestroy(){\r\n    window.removeEventListener('resize',this.resizeHandle);\r\n  },\r\n  watch:{\r\n      openBtn:{\r\n          handler(){\r\n              window.openMenu = this.openBtn;\r\n              if(this.openBtn){ //开启头部菜单\r\n                    this.$attrs.srcComponent.$router.push({\r\n                        name:\"firstPage2\",\r\n                        params:{settingOpen:true}\r\n                    }); // 登录成功，跳转到主页\r\n              }else{ //关闭头部菜单\r\n                    this.$attrs.srcComponent.$router.push({\r\n                        name:'firstPage',\r\n                        params:{settingOpen:true}\r\n                    }) // 登录成功，跳转到主页\r\n              }\r\n          }\r\n      },\r\n      openBorder:{\r\n          handler(){\r\n              if(this.openBorder){ //开启边框\r\n                    window.openBorder = true;\r\n                    // var links = $(\"[theme]\");\r\n                    // var href = links[0].href;\r\n                    // var arr = href.split('newThemes/');\r\n                    // var linkFirst = arr[0]+'newThemes/';\r\n                    // var linkEnd = arr[1].split('/main.css')[0];\r\n                    // var end = linkEnd.split('2')[0];\r\n                    // var endLink = 'static/cssui/newThemes/' + end + '/main.css';\r\n                    // if(linkEnd.indexOf('2')>=0)\r\n                    //     links[0].href = endLink;\r\n              }else{ \r\n                   window.openBorder = false;\r\n                //    var links = $(\"[theme]\");\r\n                //    var href = links[0].href;\r\n                //    var arr = href.split('newThemes/');\r\n                //    var linkFirst = arr[0]+'newThemes/';\r\n                //    var linkEnd = arr[1].split('/main.css')[0];\r\n                //    linkEnd = linkEnd.split('2')[0];\r\n                //    links[0].href = 'static/cssui/newThemes/' + linkEnd + '2/main.css';\r\n                    \r\n            }\r\n          }\r\n      }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\">\r\n.theme-title{\r\n    height: 40px;\r\n    border-bottom: 1px solid rgb(244, 244, 244);\r\n    margin-left: -15px; margin-right: -15px;\r\n    h3{\r\n        line-height: 30px;\r\n        float: left;\r\n        margin-left: 10px;\r\n    }\r\n    span{\r\n        float: right;\r\n    }\r\n}\r\n.open-head-menu{\r\n    border-bottom: 1px solid rgb(244, 244, 244);\r\n    border-top: 1px solid rgb(244, 244, 244);\r\n    margin-left: -15px; margin-right: -15px;\r\n    p{\r\n        float: left;\r\n        margin:0;\r\n        margin-left: 35px;\r\n        line-height: 70px;\r\n    }\r\n    .css-switch{\r\n        margin-top: 25px;\r\n        margin-left: 10px;\r\n    }\r\n    li{\r\n        height: 70px;\r\n    }\r\n\r\n}\r\n.theme-breviary-cont{\r\n    overflow-y: auto;\r\n    overflow-x: hidden;\r\n    margin: 0 -15px 0 -5px;\r\n}\r\n.theme-breviary-cont::-webkit-scrollbar {\r\n    width: 10px;     \r\n    height: 1px;\r\n}\r\n.theme-breviary-cont::-webkit-scrollbar-thumb {\r\n    border-radius: 5px;\r\n    background:rgba(0, 0, 0, 0.2)\r\n}\r\n.breviary{\r\n    margin-top: 20px;\r\n    >.con li {\r\n        margin: 0 10px;\r\n        margin-bottom: 30px;\r\n        .txt{\r\n            width: 100%;\r\n            text-align: center;\r\n            left: 0!important;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}